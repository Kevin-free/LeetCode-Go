今天是 Kevin 的算法之路的第 63 天。为大家讲解 LeetCode 第 279 题，是一道中等难度的题目。



## 每日一笑

> 居然真的有男孩子愿意大早上跑来送我想吃的东西，真的很感动，就是配送贵了些。



## 题目描述

> 给定正整数 n，找到若干个完全平方数（比如 1, 4, 9, 16, ...）使得它们的和等于 n。你需要让组成和的完全平方数的个数最少。
>
> 示例 1:
>
> 输入: n = 12
> 输出: 3 
> 解释: 12 = 4 + 4 + 4.
> 示例 2:
>
> 输入: n = 13
> 输出: 2
> 解释: 13 = 4 + 9.
>
> 来源：力扣（LeetCode）
> 链接：https://leetcode-cn.com/problems/perfect-squares
> 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。



## 解题思路

### 动态规划

我们先用比较容易想到的动态规划来解决这道题，我们知道 `n = 1` 时，最少只需要 1 个完全平方数 `1` 即可。问题就在于其他情况的状态转移方程。

`dp[i]`：表示完全平方数和为i的 最小个数
初始状态`dp[i]`均取最大值i，即 1+1+...+1，i个1; dp[0] = 0
`转移方程 : dp[i] = min(dp[i], dp[i-j*j]+1)`，其中, j是平方数, j=1~k,其中k*k要保证 <= i

> 意思就是：完全平方数和为i的 最小个数 等于 当前完全平方数和为i的 最大个数
> 与 （完全平方数和为 i - j * j 的 最小个数 + 完全平方数和为 j * j的 最小个数）
> 可以看到 dp[j*j] 是等于1的




## 代码实现

```go
//go
func numSquares(n int) int {
    dp := make([]int, n+1)
    for i := 1; i <= n; i++ {
        dp[i] = i
        for j := 1; i-j*j >= 0; j++ {
            dp[i] = min(dp[i], dp[i-j*j]+1)
        }
    }
    return dp[n]
}

func min(x, y int) int {
    if x < y {
        return x
    }else {
        return y
    }
}
```

```java
//java
class Solution {
    public int numSquares(int n) {
        int[] dp = new int[n + 1]; // 默认初始化值都为0
        for (int i = 1; i <= n; i++) {
            dp[i] = i; // 最坏的情况就是每次+1
            for (int j = 1; i - j * j >= 0; j++) { 
                dp[i] = Math.min(dp[i], dp[i - j * j] + 1); // 状态转移方程
            }
        }
        return dp[n];
    }
}
```



### 四平方定理

另外分享一个在评论区看到有点猛的解法

> 四平方定理： 任何一个正整数都可以表示成不超过四个整数的平方之和。 推论：满足四数平方和定理的数n（四个整数的情况），必定满足 n=4^a(8b+7)

```c
// C
int numSquares(int n) {
    //先根据上面提到的公式来缩小n
    while(n % 4 == 0) {
        n /= 4;
    }
    //如果满足公式 则返回4
    if(n % 8 == 7) {
        return 4;
    }
    //在判断缩小后的数是否可以由一个数的平方或者两个数平方的和组成
    int a = 0;
    while ((a * a) <= n) {
        int b = sqrt((n - a * a));
        if(a * a + b * b == n) {
            //如果可以 在这里返回
            if(a != 0 && b != 0) {
                return 2;
            } else{
                return 1;
            }
        }
        a++;
    }
    //如果不行 返回3
    return 3;
}
```



> 郑重声明：
>
> 所展示代码已通过 LeetCode 运行通过，请放心食用～



## 在唠唠嗑

> 很多人都想养成好习惯，但大多数人却是三分钟热度。为了我们能一起坚持下去，决定制定如下计划（福利）
>
> **一起学算法，打卡领红包！**
>
> 参与方式：
>
> 关注我的**微信公众号「Kevin的学堂」**
>
> 还可「**加群**」与众多小伙伴
>
> 一起坚持，一起学习，一起更优秀！
>
> 打卡规则为：
>
> **「留言」“打卡XXX天” ➕「分享」到朋友圈**
>
> 奖励：
>
> 打卡 **`21`** 天，联系本人获取 **`6.6`** 元红包一个！
>
> 打卡 **`52`** 天，联系本人获取 **`16.6`** 元红包一个！
>
> 打卡 **`100`** 天，联系本人获取 **`66.6`** 元红包一个！



![长按扫码，一起进步](http://wesub.ifree258.top/wesubQRCode-2.png)