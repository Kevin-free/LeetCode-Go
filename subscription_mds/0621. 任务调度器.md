ä»ç‹è€…è£è€€çš„æŠ€èƒ½æ–½æ”¾ç†è§£è°ƒåº¦ç®—æ³•



ä»Šå¤©æ˜¯ Kevin çš„ç®—æ³•ä¹‹è·¯çš„ç¬¬ 74 å¤©ã€‚å’Œå¤§å®¶åˆ†äº«ã€Šç‹è€…è£è€€ã€‹æŠ€èƒ½æ–½æ”¾çš„æœ€ä½³æ–¹æ¡ˆï¼Œçœ‹å®Œä¹‹åä½ å°†å¯ä»¥å®Œæˆ LeetCode çš„ç¬¬ 621 é¢˜ã€Šä»»åŠ¡è°ƒåº¦å™¨ã€‹



## å¼•

æƒ³å¿…è¢«æ ‡é¢˜ ~~éª—~~ å¸å¼•è¿›æ¥çš„ä½ å¯¹ã€Šç‹è€…è£è€€ã€‹åº”è¯¥å¾ˆç†Ÿæ‚‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬å…ˆä»¥è¿™ä¸ªæ¸¸æˆæ¥å¼•å‡ºè¿™ç¯‡æ–‡ç« ã€‚



![](http://goleetcode.ifree258.top/062102.jpeg)



ä¸Šå›¾ä¸­çš„è¿™ä¸ªè§’è‰²çŸ¥é“æ˜¯è°å§ï¼Œæ²¡é”™ï¼Œå°±æ˜¯å°ä¹”çš„å§å§â€”â€”å¤§ä¹”ã€‚ä¸è®¤è¯†ä¹Ÿæ²¡å…³ç³»ï¼Œè¿™ä¸æ˜¯é‡ç‚¹ã€‚



å‡è®¾ä½ æ­£æ„‰å¿«çš„ç©ç€è¿™ä¸ªè‹±é›„ï¼Œç°åœ¨è¦æ±‚ä½ æ–½æ”¾ 3 æ¬¡ A æŠ€èƒ½ï¼Œ2 æ¬¡ B æŠ€èƒ½ï¼Œ1 æ¬¡ C æŠ€èƒ½ï¼Œå¹¶ä¸”æ¯ç§æŠ€èƒ½çš„å†·å´æ—¶é—´éƒ½æ˜¯ä¸€æ ·çš„ 2 ç§’ï¼Œæ¯ç§æŠ€èƒ½éƒ½å¯ä»¥åœ¨ 1 ç§’å†…å®Œæˆï¼Œè¯·é—®æ–½æ”¾è¿™äº›æŠ€èƒ½æ‰€éœ€è¦çš„ **æœ€çŸ­æ—¶é—´** ï¼Ÿ



å…ˆåŠ¨åŠ¨ä½ èªæ˜çš„å°è„‘è¢‹ï¼Œæƒ³æƒ³æ€ä¹ˆç”¨æœ€çŸ­çš„æ—¶é—´æ–½æ”¾å®Œè¿™äº›æŠ€èƒ½å‘¢ï¼Ÿ



![](http://goleetcode.ifree258.top/062105.jpg)





åšé¢˜å¯èƒ½ä¸è¡Œï¼Œç©æ¸¸æˆæˆ‘ä»¬å¿…é¡»è¡Œå•Šï¼

æ¥ï¼Œæˆ‘ä»¬ä¸€æ­¥ä¸€æ­¥æ¥æ€è€ƒæ€ä¹ˆæœ€å¿«çš„æ”¾å®ŒæŠ€èƒ½ ["A","A","A","B","B","C"] ï¼š

å› ä¸ºæ¯ç§æŠ€èƒ½çš„å†·å´æ—¶é—´ä¸€æ ·ï¼Œé‚£æˆ‘ä»¬è‚¯å®šæ˜¯å…ˆæ”¾è¦æ±‚æ¬¡æ•°æœ€å¤šçš„æŠ€èƒ½å¯¹å§ï¼Œ

æˆ‘ä»¬å…ˆæ”¾ä¸€æ¬¡ A ï¼Œéœ€è¦ 1sï¼Œç„¶åæœ‰ 2s å†·å´ï¼Œ

è¿™ 2s å†·å´ä¸­ï¼Œæˆ‘ä»¬è‚¯å®šä¸èƒ½æµªè´¹çš„å‘€ï¼Œèµ¶ç´§æ”¾ä¸€æ¬¡ B å’Œ Cï¼Œ

æ­£å¥½æ”¾å®Œ B å’Œ Cï¼ŒA çš„ 2s å†·å´ç»“æŸï¼Œæˆ‘ä»¬ç»§ç»­æ”¾ä¸€æ¬¡ Aï¼Œ

è¯¶ï½è¿™ä¸åˆå›åˆ°äº†æœ€åˆçš„èµ·ç‚¹ï¼Œ

2s å†·å´ï¼Œæˆ‘ä»¬å½“ç„¶ä¹Ÿä¸èƒ½æµªè´¹ï¼Œèµ¶ç´§æ”¾ä¸€æ¬¡ B å’Œ Cï¼Œ

åˆæ”¾å®Œ B å’Œ Cï¼ŒA çš„ 2s å†·å´ç»“æŸï¼Œæˆ‘ä»¬ç»§ç»­å†æ”¾ä¸€æ¬¡ Aã€‚



å“¦äº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ã€‚



å½“ç„¶ï¼Œè¿™æ˜¯æŠ€èƒ½å’Œæ¬¡æ•°å°‘ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·ç²—æš´çš„ç©·ä¸¾ï¼Œæ‰€ä»¥ä¸‹é¢ç”¨å›¾è§£æ¥æ€»ç»“å‡ºä¸€èˆ¬æƒ…å½¢ã€‚



æˆ‘ä»¬è¿˜æ˜¯å…ˆä»¥ ["A","A","A","B","B","C"] ä¸ºä¾‹ï¼š



![](http://goleetcode.ifree258.top/062103.png)



å¯ä»¥çœ‹å‡ºï¼Œæˆ‘å°†æ€»æ—¶é—´åˆ†ä¸ºäº†ä¸¤éƒ¨åˆ†è®¡ç®—ï¼š

é¢‘ç‡æœ€é«˜çš„æŠ€èƒ½æ¬¡æ•° - 1 æ¬¡ä¹‹å‰å«åšã€Œè½®å›æ—¶é—´ã€ï¼ˆå¦‚æ­¤ä¾‹ä¸­çš„ç¬¬ä¸€æ¬¡æ–½æ”¾ A åˆ°æœ€åä¸€æ¬¡æ–½æ”¾ A ä¹‹é—´çš„æ—¶é—´ï¼‰

é¢‘ç‡æœ€é«˜çš„ä¸åŒæŠ€èƒ½æ•°å«åšã€Œå•ç‹¬æ—¶é—´ã€ï¼ˆå¦‚æ­¤ä¾‹ä¸­æœ€åè¿˜è¦å•ç‹¬æ–½æ”¾ 1 æ¬¡ A ï¼‰



å½“ç„¶ï¼Œæˆ‘ä»¬è¿˜ä¼šç¢°åˆ°å…¶ä»–æƒ…å†µï¼Œæ¯”å¦‚ ["A","A","A","B","B","B","C"] è¿™æ—¶é¢‘ç‡æœ€é«˜çš„ä¸åŒæŠ€èƒ½æ•°æ˜¯ 2ï¼Œæ”¹å˜çš„å°±æ˜¯å•ç‹¬æ—¶é—´ã€‚



![](http://goleetcode.ifree258.top/062104.png)



ä½†æ˜¯æˆ‘ä»¬æ‰€å¾—å‡ºçš„å…¬å¼æ˜¯ä¸å˜çš„ï¼š

**æ€»æ—¶é—´ = (é¢‘ç‡æœ€é«˜æŠ€èƒ½æ¬¡æ•° - 1) * (n + 1) + é¢‘ç‡æœ€é«˜çš„ä¸åŒæŠ€èƒ½æ•°**



å¦å¤–ï¼Œå…¬å¼ç®—å‡ºçš„å€¼å¯èƒ½ä¼šæ¯”æŠ€èƒ½æ•°é‡å°ï¼Œæ¯”å¦‚  ["A","A","B","B"] å¹¶ä¸”å†·å´æ—¶é—´ä¸º 0ï¼Œæ­¤æ—¶å…¬ç¤ºç®—å‡ºçš„ç»“æœä¸º 3 ï¼Œä½†æ˜¾ç„¶æ”¾å®Œ 4 ä¸ªæŠ€èƒ½æœ€å°‘æ˜¯éœ€è¦ 4s çš„ã€‚

æ‰€ä»¥ï¼Œæœ€ååº”è¯¥å–å…¬å¼ç®—å‡ºçš„æ€»æ—¶é—´å’ŒæŠ€èƒ½æ•°é‡çš„æœ€å¤§å€¼ã€‚



æ¸¸æˆç©å®Œäº†ï¼Œæˆ‘ä»¬è¯¥è¿›å…¥æ­£äº‹äº†å§ï¼Ÿ



![](http://goleetcode.ifree258.top/062106.jpg)



ä¸Šé¢˜ï¼



## é¢˜ç›®æè¿°

> ç»™ä½ ä¸€ä¸ªç”¨å­—ç¬¦æ•°ç»„ tasks è¡¨ç¤ºçš„ CPU éœ€è¦æ‰§è¡Œçš„ä»»åŠ¡åˆ—è¡¨ã€‚å…¶ä¸­æ¯ä¸ªå­—æ¯è¡¨ç¤ºä¸€ç§ä¸åŒç§ç±»çš„ä»»åŠ¡ã€‚ä»»åŠ¡å¯ä»¥ä»¥ä»»æ„é¡ºåºæ‰§è¡Œï¼Œå¹¶ä¸”æ¯ä¸ªä»»åŠ¡éƒ½å¯ä»¥åœ¨ 1 ä¸ªå•ä½æ—¶é—´å†…æ‰§è¡Œå®Œã€‚åœ¨ä»»ä½•ä¸€ä¸ªå•ä½æ—¶é—´ï¼ŒCPU å¯ä»¥å®Œæˆä¸€ä¸ªä»»åŠ¡ï¼Œæˆ–è€…å¤„äºå¾…å‘½çŠ¶æ€ã€‚
>
> ç„¶è€Œï¼Œä¸¤ä¸ª ç›¸åŒç§ç±» çš„ä»»åŠ¡ä¹‹é—´å¿…é¡»æœ‰é•¿åº¦ä¸ºæ•´æ•° n çš„å†·å´æ—¶é—´ï¼Œå› æ­¤è‡³å°‘æœ‰è¿ç»­ n ä¸ªå•ä½æ—¶é—´å†… CPU åœ¨æ‰§è¡Œä¸åŒçš„ä»»åŠ¡ï¼Œæˆ–è€…åœ¨å¾…å‘½çŠ¶æ€ã€‚
>
> ä½ éœ€è¦è®¡ç®—å®Œæˆæ‰€æœ‰ä»»åŠ¡æ‰€éœ€è¦çš„ æœ€çŸ­æ—¶é—´ ã€‚
>
>  
>
> ç¤ºä¾‹ 1ï¼š
>
> è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 2
> è¾“å‡ºï¼š8
> è§£é‡Šï¼šA -> B -> (å¾…å‘½) -> A -> B -> (å¾…å‘½) -> A -> B
>      åœ¨æœ¬ç¤ºä¾‹ä¸­ï¼Œä¸¤ä¸ªç›¸åŒç±»å‹ä»»åŠ¡ä¹‹é—´å¿…é¡»é—´éš”é•¿åº¦ä¸º n = 2 çš„å†·å´æ—¶é—´ï¼Œè€Œæ‰§è¡Œä¸€ä¸ªä»»åŠ¡åªéœ€è¦ä¸€ä¸ªå•ä½æ—¶é—´ï¼Œæ‰€ä»¥ä¸­é—´å‡ºç°äº†ï¼ˆå¾…å‘½ï¼‰çŠ¶æ€ã€‚ 
> ç¤ºä¾‹ 2ï¼š
>
> è¾“å…¥ï¼štasks = ["A","A","A","B","B","B"], n = 0
> è¾“å‡ºï¼š6
> è§£é‡Šï¼šåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»ä½•å¤§å°ä¸º 6 çš„æ’åˆ—éƒ½å¯ä»¥æ»¡è¶³è¦æ±‚ï¼Œå› ä¸º n = 0
> ["A","A","A","B","B","B"]
> ["A","B","A","B","A","B"]
> ["B","B","B","A","A","A"]
> ...
> è¯¸å¦‚æ­¤ç±»
> ç¤ºä¾‹ 3ï¼š
>
> è¾“å…¥ï¼štasks = ["A","A","A","A","A","A","B","C","D","E","F","G"], n = 2
> è¾“å‡ºï¼š16
> è§£é‡Šï¼šä¸€ç§å¯èƒ½çš„è§£å†³æ–¹æ¡ˆæ˜¯ï¼š
>      A -> B -> C -> A -> D -> E -> A -> F -> G -> A -> (å¾…å‘½) -> (å¾…å‘½) -> A -> (å¾…å‘½) -> (å¾…å‘½) -> A
>
>
> æç¤ºï¼š
>
> 1 <= task.length <= 104
> tasks[i] æ˜¯å¤§å†™è‹±æ–‡å­—æ¯
> n çš„å–å€¼èŒƒå›´ä¸º [0, 100]
>
> æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰
> é“¾æ¥ï¼šhttps://leetcode-cn.com/problems/task-scheduler
> è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚





## è§£é¢˜æ€è·¯

å¦‚æœå‰é¢çš„æŠ€èƒ½æ–½æ”¾ä½ ç†è§£äº†ï¼Œé‚£è¿™é‡Œçš„ä»»åŠ¡è°ƒåº¦ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚



å”¯ä¸€éœ€è¦å…³æ³¨çš„å°±æ˜¯ä»£ç çš„ç¼–å†™ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å…¶å®å¯ä»¥ç†æ¸…æ€è·¯ï¼Œä½†æ˜¯å†™ä»£ç çš„æ—¶å€™æ‰‹å°±æ˜¯ä¸å¬è„‘å­çš„ä½¿å”¤ã€‚ğŸ¤·ğŸ»â€â™‚ï¸





## ä»£ç å®ç°

```go
//go

func leastInterval(tasks []byte, n int) int {
	// ç”¨äºè®°å½•å„ä¸ªä»»åŠ¡çš„æ¬¡æ•°ï¼ŒèŒƒå›´ä¸º26å¤§å†™è‹±æ–‡å­—æ¯
	count := make([]int, 26)

	// ç»Ÿè®¡å„ä¸ªä»»åŠ¡çš„æ¬¡æ•°
	for _, task := range tasks {
		count[task-'A']++ // å› ä¸ºæ˜¯ byteï¼Œéœ€è¦å¤„ç†
	}

	// æŒ‰æ¬¡æ•°æ’åºï¼Œé»˜è®¤å‡åºï¼Œcount[25]æ˜¯é¢‘ç‡æœ€é«˜çš„
	sort.Ints(count)

	// æ¬¡æ•°æœ€å¤šçš„ä»»åŠ¡æ•°
	maxCount := 0

	// ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªé¢‘ç‡æœ€é«˜çš„ä»»åŠ¡
	for i := 25; i >= 0; i-- {
		if count[i] != count[25] {
			break
		}
		maxCount++
	}

	// å…¬å¼ç®—å‡ºçš„å€¼å¯èƒ½ä¼šæ¯”æ•°ç»„çš„é•¿åº¦å°ï¼Œå–ä¸¤è€…ä¸­æœ€å¤§çš„é‚£ä¸ª
	return max((count[25]-1)*(n+1) + maxCount, len(tasks))
}

func max(x, y int) int {
	if x > y {
		return x
	}
	return y
}
```



```java
//java

class Solution {
    public int leastInterval(char[] tasks, int n) {
        int[] count = new int[26];
        for (int i = 0; i < tasks.length; i++) {
            count[tasks[i]-'A']++;
        }//ç»Ÿè®¡è¯é¢‘
        Arrays.sort(count);//è¯é¢‘æ’åºï¼Œå‡åºæ’åºï¼Œcount[25]æ˜¯é¢‘ç‡æœ€é«˜çš„
        int maxCount = 0;
        //ç»Ÿè®¡æœ‰å¤šå°‘ä¸ªé¢‘ç‡æœ€é«˜çš„å­—æ¯
        for (int i = 25; i >= 0; i--) {
            if(count[i] != count[25]){
                break;
            }
            maxCount++;
        }
        //å…¬å¼ç®—å‡ºçš„å€¼å¯èƒ½ä¼šæ¯”æ•°ç»„çš„é•¿åº¦å°ï¼Œå–ä¸¤è€…ä¸­æœ€å¤§çš„é‚£ä¸ª
        return Math.max((count[25] - 1) * (n + 1) + maxCount , tasks.length);
    }
}
```



> éƒ‘é‡å£°æ˜ï¼š
>
> æ‰€å±•ç¤ºä»£ç å·²é€šè¿‡ LeetCode è¿è¡Œé€šè¿‡ï¼Œè¯·æ”¾å¿ƒé£Ÿç”¨ï½





## åœ¨å” å” å—‘

> å¾ˆå¤šäººéƒ½æƒ³å…»æˆå¥½ä¹ æƒ¯ï¼Œä½†å¤§å¤šæ•°äººå´æ˜¯ä¸‰åˆ†é’Ÿçƒ­åº¦ã€‚ä¸ºäº†æˆ‘ä»¬èƒ½ä¸€èµ·åšæŒä¸‹å»ï¼Œå†³å®šåˆ¶å®šå¦‚ä¸‹è®¡åˆ’ï¼ˆç¦åˆ©ï¼‰
>
> **ä¸€èµ·å­¦ç®—æ³•ï¼Œæ‰“å¡é¢†çº¢åŒ…ï¼**
>
> å‚ä¸æ–¹å¼ï¼š
>
> å…³æ³¨æˆ‘çš„**å¾®ä¿¡å…¬ä¼—å·ã€ŒKevinçš„å­¦å ‚ã€**
>
> è¿˜å¯ã€Œ**åŠ ç¾¤**ã€ä¸ä¼—å¤šå°ä¼™ä¼´
>
> ä¸€èµ·åšæŒï¼Œä¸€èµ·å­¦ä¹ ï¼Œä¸€èµ·æ›´ä¼˜ç§€ï¼
>
> æ‰“å¡è§„åˆ™ä¸ºï¼š
>
> **ã€Œç•™è¨€ã€â€œæ‰“å¡XXXå¤©â€ â•ã€Œåˆ†äº«ã€åˆ°æœ‹å‹åœˆ**
>
> å¥–åŠ±ï¼š
>
> æ‰“å¡ **`21`** å¤©ï¼Œè”ç³»æœ¬äººè·å– **`6.6`** å…ƒçº¢åŒ…ä¸€ä¸ªï¼
>
> æ‰“å¡ **`52`** å¤©ï¼Œè”ç³»æœ¬äººè·å– **`16.6`** å…ƒçº¢åŒ…ä¸€ä¸ªï¼
>
> æ‰“å¡ **`100`** å¤©ï¼Œè”ç³»æœ¬äººè·å– **`66.6`** å…ƒçº¢åŒ…ä¸€ä¸ªï¼



![](http://wesub.ifree258.top/bottomPic.png)





## è¯»è€…ç¦åˆ©

æœ€è¿‘æœ‰è¯»è€…åé¦ˆæœ‰äº›ç®—æ³•é¢˜æ¯”è¾ƒéš¾æ‡‚ï¼Œæ®æ²Ÿé€šå‘ç°æ˜¯ç¼ºä¹ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œæ‰€ä»¥æˆ‘å°†è‡ªå·±ç°æœ‰çš„èµ„æºæ•´ç†å‡ºæ¥åˆ†äº«ç»™å¤§å®¶ï¼Œå…¶ä¸­åŒ…æ‹¬ã€**æ•°æ®ç»“æ„å’Œç®—æ³•ã€è®¡ç®—æœºåŸºç¡€ã€Javaã€Pythonã€Golangç­‰å­¦ä¹ è§†é¢‘å’Œç”µå­ä¹¦ï¼Œä»¥åŠé¢è¯•å’Œé¡¹ç›®èµ„æº**ã€‘å¸Œæœ›èƒ½å¸®åŠ©åˆ°å¤§å®¶ï½

è·å–æ–¹æ³•ï¼šå…³æ³¨æˆ‘çš„å…¬ä¼—å·ã€**Kevinçš„å­¦å ‚**ã€‘å›å¤ã€**èµ„æº**ã€‘å³å¯å…è´¹è·å–ï¼

![ä»…ä¾›å­¦ä¹ ï¼Œç¦æ­¢å•†ç”¨ï¼è‹¥æœ‰ä¾µæƒï¼Œè”ç³»åˆ é™¤ï¼](http://goleetcode.ifree258.top/panSrc.png)





> æœ€åï¼Œæ„Ÿè°¢ä½ èƒ½çœ‹åˆ°è¿™é‡Œï¼
>
> åšæŒåŸåˆ›ä¸æ˜“ï¼Œå¦‚æœä½ è§‰å¾—è¿˜ä¸é”™çš„è¯ï¼Œæ±‚ã€**ç‚¹èµ**ã€‘ã€**åœ¨çœ‹**ã€‘ã€**è½¬å‘**ã€‘ä¸‰è¿å®‰æ’ï¼Œä½ çš„æ”¯æŒå°±æ˜¯æˆ‘æœ€å¤§çš„åŠ¨åŠ›ï¼



![ç½—ç¿”è€å¸ˆéƒ½è¯´äº†åˆé€‚çš„ä¸å¾—äº† :D ](http://wesub.ifree258.top/gifBottom.gif)



## æ¨èé˜…è¯»

[ä¸€æ—¥ä¸€åŠ›æ‰£ï½œç¬¬64å¤©ï¼šé¢œè‰²åˆ†ç±»](https://mp.weixin.qq.com/s?__biz=MzU1NjAyOTMyMQ==&mid=2247485392&idx=1&sn=bee83ba96e32fa2a44cc8d050fad3f4f&scene=21#wechat_redirect)

[leetcodeï½œä¸€é“ç®—æ³•é¢˜é”™å¤±è°·æ­Œoffer](https://mp.weixin.qq.com/s?__biz=MzU1NjAyOTMyMQ==&mid=2247484163&idx=1&sn=7ddbde400765e7048b63b4eab67cd092&scene=21#wechat_redirect)

[leetcodeï½œæ™ºæ…§æ ‘ä¸‹ä½ å’Œæˆ‘](https://mp.weixin.qq.com/s?__biz=MzU1NjAyOTMyMQ==&mid=2247484419&idx=1&sn=1931e6c91a913267ad3f2a779681bbae&scene=21#wechat_redirect)

