Hello，我是Kevin，今天是百日刷题的第 71 天，让我们一鼓作气再战 30 天！

接下来的 30 天，我们调整步伐，一起冲冲冲！

[路漫漫其修远兮……](https://mp.weixin.qq.com/s/SGu0vLwko4gGj3NqSKGA9Q)

关注公众号「**Kevin的学堂**」回复「加群」，可提前获取题目信息，并与众多群友相互交流，共同进步！



## 每日一笑

> 专家研究发现，手机在有电的情况下才可以玩。



## 题目描述

> LeetCode [268. 丢失的数字](https://leetcode-cn.com/problems/missing-number/)
>
> 给定一个包含 [0, n] 中 n 个数的数组 nums ，找出 [0, n] 这个范围内没有出现在数组中的那个数。
>
>  
>
> 进阶：
>
> 你能否实现线性时间复杂度、仅使用额外常数空间的算法解决此问题?
>
>
> 示例 1：
>
> ```
> 输入：nums = [3,0,1]
> 输出：2
> 解释：n = 3，因为有 3 个数字，所以所有的数字都在范围 [0,3] 内。2 是丢失的数字，因为它没有出现在 nums 中。
> ```
>
>
> 示例 2：
>
> ```
> 输入：nums = [0,1]
> 输出：2
> 解释：n = 2，因为有 2 个数字，所以所有的数字都在范围 [0,2] 内。2 是丢失的数字，因为它没有出现在 nums 中。
> ```
>
>
> 示例 3：
>
> ```
> 输入：nums = [9,6,4,2,3,5,7,0,1]
> 输出：8
> 解释：n = 9，因为有 9 个数字，所以所有的数字都在范围 [0,9] 内。8 是丢失的数字，因为它没有出现在 nums 中。
> ```
>
>
> 示例 4：
>
> ```
> 输入：nums = [0]
> 输出：1
> 解释：n = 1，因为有 1 个数字，所以所有的数字都在范围 [0,1] 内。1 是丢失的数字，因为它没有出现在 nums 中。
> ```
>
>
> 提示：
>
> - n == nums.length
> - 1 <= n <= 104
> - 0 <= nums[i] <= n
> - nums 中的所有数字都 **独一无二**
>
> 来源：力扣（LeetCode）
> 链接：https://leetcode-cn.com/problems/missing-number
> 著作权归领扣网络所有。商业转载请联系官方授权，非商业转载请注明出处。



## 解题思路

这道题虽然比较简单，但是也值得讲解，争取将一道简单题做到极致。

### 方法一、数学法

我最先想到的是数学方法，即先求出  [0, n] 这 n 个数的和，再减去数组中所有数的和，就得到了缺失的数字。

我们可以使用高斯求和公式 ，也可以理解为等差数列的求和公式。



![](http://goleetcode.ifree258.top/026801.png)



这里想分享下著名数学家高斯的生平

> **约翰·卡尔·弗里德里希·高斯**（德语：Johann Karl Friedrich Gauß 1777年4月30日－1855年2月23日）， [德国](https://zh.wikipedia.org/wiki/德国)[数学家](https://zh.wikipedia.org/wiki/数学家)、[物理学家](https://zh.wikipedia.org/wiki/物理学家)、[天文学家](https://zh.wikipedia.org/wiki/天文学家)、[大地测量学](https://zh.wikipedia.org/wiki/大地测量学)家，生于[布伦瑞克](https://zh.wikipedia.org/wiki/布倫瑞克)，卒于[哥廷根](https://zh.wikipedia.org/wiki/哥廷根)。高斯被认为是历史上最重要的数学家之一[[1\]](https://zh.wikipedia.org/zh-cn/卡爾·弗里德里希·高斯#cite_note-scientificmonthly-1)，并有“**数学王子**”的美誉[[2\]](https://zh.wikipedia.org/zh-cn/卡爾·弗里德里希·高斯#cite_note-2)。



![](http://goleetcode.ifree258.top/026802.png)



**参考代码**

```java
//java
class Solution {
    public int missingNumber(int[] nums) {
        int expectedSum = nums.length*(nums.length + 1)/2;
        int actualSum = 0;
        for (int num : nums) actualSum += num;
        return expectedSum - actualSum;
    }
}
```



```go
//go
func missingNumber(nums []int) int {
	n := len(nums)
	expectedSum := n*(n+1)/2 // 求和公式
	actualSum := 0
	for _,num := range nums {
		actualSum += num
	}
	res := expectedSum - actualSum
	return res
}
```



复杂度分析

- 时间复杂度：O(n)。求出数组中所有数的和的时间复杂度为 O(n)，高斯求和公式的时间复杂度为 O(1)，因此总的时间复杂度为 O(n)。
- 空间复杂度：O(1)。算法中只用到了 O(1) 的额外空间，用来存储答案。



![](http://goleetcode.ifree258.top/026803.png)



### 方法二、位运算

不知道你还记得我之前讲解过的 [只出现一次的数字](https://mp.weixin.qq.com/s?__biz=MzU1NjAyOTMyMQ==&mid=2247484631&idx=2&sn=a8e852791f85fc21857c5202d2a9a285&chksm=fbca0031ccbd8927bd542e9bc17ac4ecc0e9270b048ba2abe2cde0b3d9bf51afc73ecf0c63c8&token=1567756063&lang=zh_CN#rd) 这道题吗，两道题有异曲同工之处，这里也可以使用「异或运算」巧妙的解决问题。

我们需要知道「异或运算」（XOR）的几个主要法则（常用 `^` 表示异或运算）：

**归零律**：a ^ a = 0

**恒等律**：a ^ 0 = a

**交换律**：a ^ b = b ^ a

**结合律**：a ^ b ^ c = a ^ (b ^ c) = (a ^ b) ^ c;

**自反**：a ^ b ^ a = b.



举个例子：

- 0 ^ 4 = 4
- 4 ^ 4 = 0

那么，就可以不用求和，直接使用异或运算`^`进行 抵消，剩下的数字就是缺失的了。

再举个例子：

- 1^1^2^2^3 = 3

所以，如果我们的 nums 为 [0，1，3，4] 情况时，分析异或运算的求解过程如下：

missing  = ( 0 ^ 1 ^ 2 ^ 3 ^ 4 ) ^ ( 0 ^ 1 ^ 3 ^ 4 )

​				= 0 ^ 0 ^ 1 ^ 1 ^ 2 ^ 3 ^ 3 ^ 4 ^ 4

​				= 0 ^ 0 ^ 2 ^ 0 ^ 0

​				= 2

就得到了缺失的数字为 2。



> 个人更推荐位运算这种解法，不仅可以避免相加导致的溢出风险，而且也体现你更牛（装）逼（B）



**参考代码**：

```java
//java
class Solution {
    public int missingNumber(int[] nums) {
        int missing = nums.length;
        for (int i = 0; i < nums.length; i++) {
            missing ^= i ^ nums[i];
        }
        return missing;
    }
}
```



```go
//go
func missingNumber(nums []int) int {
	res := len(nums)
	for i, num := range nums {
		res ^= num
		res ^= i
	}
	return res
}
```



复杂度分析

- 时间复杂度：O(n)。这里假设异或运算的时间复杂度是常数的，总共会进行 O(n) 次异或运算，因此总的时间复杂度为 O(n)。
- 空间复杂度：O(1)。算法中只用到了 O(1) 的额外空间，用来存储答案。



![](http://goleetcode.ifree258.top/026804.png)



> 郑重声明：
>
> 所展示代码已通过 LeetCode 运行通过，请放心食用～



## 打卡领红包

> 很多人都想养成好习惯，但大多数人却是三分钟热度。为了我们能一起坚持下去，决定制定如下计划（福利）
>
> **一起学算法，打卡领红包！**
>
> 参与方式：
>
> 关注我的**微信公众号「Kevin的学堂」**
>
> 还可「**加群**」提前获取题目与众多小伙伴
>
> 一起坚持，一起学习，一起更优秀！
>
> 打卡规则为：
>
> **「留言」“打卡XXX天” ➕「分享」到朋友圈**
>
> 奖励：
>
> 打卡 **`21`** 天，联系本人获取 **`6.6`** 元红包一个！
>
> 打卡 **`52`** 天，联系本人获取 **`16.6`** 元红包一个！
>
> 打卡 **`100`** 天，联系本人获取 **`66.6`** 元红包一个！



![长按扫码，一起进步](http://wesub.ifree258.top/wesubQRCode-2.png)



## 推荐阅读

[图码详解｜理解八大思想，胜刷百道力扣！](https://mp.weixin.qq.com/s/lENQtnReN9JSf24s4yPPFg)

 [只出现一次的数字](https://mp.weixin.qq.com/s?__biz=MzU1NjAyOTMyMQ==&mid=2247484631&idx=2&sn=a8e852791f85fc21857c5202d2a9a285&chksm=fbca0031ccbd8927bd542e9bc17ac4ecc0e9270b048ba2abe2cde0b3d9bf51afc73ecf0c63c8&token=1567756063&lang=zh_CN#rd) 

[【LeetCode】经典位运算，简单又装逼](https://mp.weixin.qq.com/s/62Uwr4RidtVbfAqsM7ZQHA)

[Kevin的算法之路｜20201130汇总](https://mp.weixin.qq.com/s/da48qZBOZOx-I0a3Ou35XQ)



## 读者福利

刷题实践和理论知识都很重要，所以我将自己现有的资源整理出来分享给大家，其中包括【**数据结构和算法、计算机基础、Java、Python、Golang等学习视频和电子书，以及面试和项目资源**】希望能帮助到大家～

获取方法：关注我的公众号【**Kevin的学堂**】回复【**资源**】即可**免费获取**！

![仅供学习，禁止商用！若有侵权，联系删除！](http://goleetcode.ifree258.top/panSrc.png)





> 最最后，原创不易，坚持更不易，若有帮助到大家，希望能【**点赞**】【**在看**】【**转发**】一波三连，你的支持就是我最大的动力！
>
> 我是Kevin，感谢有你相伴！

